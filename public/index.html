<!DOCTYPE html>
<!-- Template by Quackit.com -->
<!-- Images by various sources under the Creative Commons CC0 license and/or the Creative Commons Zero license.
Although you can use them, for a more unique website, replace these images with your own. -->
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <title>RMSF Cloud</title>

    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS: You can use this stylesheet to override any Bootstrap styles and/or apply your own styles -->
    <link href="css/custom.css" rel="stylesheet">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Custom Fonts from Google -->
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

</head>

<body>

    <!-- Navigation -->
    <nav id="siteNav" class="navbar navbar-default navbar-fixed-top" role="navigation">
        <div class="container">
            <!-- Logo and responsive toggle -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#">
                	<span class="glyphicon glyphicon-fire"></span>
                	Fire Detector Cloud
                </a>
            </div>
            <!-- Navbar links -->
            <div class="collapse navbar-collapse" id="navbar">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="../online">Is it up and running?</a>
                    </li>
                    <li>
                        <a href="#api_docs">Api docs</a>
                    </li>
                </ul>

            </div><!-- /.navbar-collapse -->
        </div><!-- /.container -->
    </nav>

	<!-- Header -->
    <header>
        <div class="header-content">
            <div class="header-content-inner">
                <h1>Cloud Api for fire detection sensor</h1>
                <p>Developed for RMSF course at IST, Portugal</p>
                <a href="#api_docs" class="btn btn-primary btn-lg">See Docs</a>
            </div>
        </div>
    </header>

	<!-- Intro Section -->
    <section class="intro">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2">
                	<span class="glyphicon glyphicon-cloud" style="font-size: 60px"></span>
                    <h2 class="section-heading">Bringing one more IoT application to the world</h2>
                    <p class="text-light">IoT is in development, but where is it headed, to the future? Let's hope that it will become the future.</p>
                </div>
            </div>
        </div>
    </section>

	<!-- Content 1 -->
    <section class="content">
        <div class="container">
            <div class="row">
                <div class="col-sm-6">
                    <img class="img-responsive img-circle center-block" src="images/github-mark.png" alt="">
                </div>
                <div class="col-sm-6">
                	<h2 class="section-header">Developed with the future in mind</h2>
                	<p class="lead text-muted">After the development is complete and the project delivered, the contents of the development will became public in github. With the aim of providing future implementations that have more and better features.</p>
                    <p class="lead text-muted">This project is composed of a Android Application, a Cloud Application and a Arduino Application, the communication is made using <a href="https://www.thethingsnetwork.org/docs/lorawan/">LoRaWAN</a>, <a href="https://www.thethingsnetwork.org/">TTN</a>, <a href="https://expressjs.com/">Express.js</a> and <a href="https://developer.android.com/training/volley/index.html">Android Volley</a>. Other libraries are used in the development of this solution, more info on them is available in each part dependencies.</p>
                </div>
            </div>
        </div>
    </section>

	<!-- Content 2 -->
     <section class="content content-2" id="api_docs">
        <div class="container">
            <h1 class="section-header">Api Docs</h1>
            <div class="row">
                <div class="col-sm-6">
                    <!-- AUTH ROUTES -->
                	<h2 class="lead color-me">AUTHENTICATION routes</h2>

                    <h3 class="text-light">POST /register</h3>
                    <p class="text-light">Expects email, password and name</p>
                    <p class="text-light">On success returns: Info on new user, 200 OK</p>
                    <p class="text-light">On failure returns: 400, and error message</p>

                    <h3 class="text-light">POST /login</h3>
                    <p class="text-light">Expects email, password and token_push (for FCM functionality)</p>
                    <p class="text-light">This will configure a new token to FCM function (message push service) to handle push messages to your client device.</p>
                    <p class="text-light">This token_push param must only be set when the client side application supports Firebase Cloud Message.</p>
                    <p class="text-light">On success returns: Info on logged user, 200 OK and x-auth token in header</p>
                    <p class="text-light">On failure returns: 400</p>

                    <h3 class="text-light">POST /logout</h3>
                    <p class="text-light">Expects user to be authenticated and expects push token (if exists)</p>
                    <p class="text-light">On success returns: 200 OK</p>
                    <p class="text-light">On failure returns: 400</p>
                </div>
                <div class="col-sm-6">
                    <!-- Application ROUTES -->
                    <h2 class="lead color-me">APPLICATION routes</h2>
                    <p class="text-light">User must send authentication token</p>

                    <h3 class="text-light">POST /application</h3>
                    <p class="text-light">Adds a new application to user</p>
                    <p class="text-light">Expects appKey and appID (as given by ttn)</p>
                    <p class="text-light">On success returns: Info on new app, 200 OK</p>
                    <p class="text-light">On failure returns: 40x (depends on each case), and error message</p>

                    <h3 class="text-light">DELETE /application</h3>
                    <p class="text-light">Delete a user application</p>
                    <p class="text-light">Expects appID</p>
                    <p class="text-light">On success returns: appID, 200 OK</p>
                    <p class="text-light">On failure returns: 400, and error message</p>

                    <h3 class="text-light">GET /application</h3>
                    <p class="text-light">Gets info on user application</p>
                    <p class="text-light">Expects appID</p>
                    <p class="text-light">On success returns: Queried app info, 200 OK</p>
                    <p class="text-light">On failure returns: 400, and error message</p>
                </div>
                <div class="col-sm-6">
                    <!-- Device Management ROUTES -->
                    <h2 class="lead color-me">DEVICE management routes</h2>
                    <p class="text-light">User must send authentication token</p>

                    <h3 class="text-light">POST /device</h3>
                    <p class="text-light">Adds a new device to a user application</p>
                    <p class="text-light">Expects deviceID and appID (as given by ttn)</p>
                    <p class="text-light">On success returns: Info on new device, 200 OK</p>
                    <p class="text-light">On failure returns: 40x (depends on each case), and error message</p>

                    <h3 class="text-light">DELETE /device</h3>
                    <p class="text-light">Delete a user device on a specific application</p>
                    <p class="text-light">Expects deviceID and appID</p>
                    <p class="text-light">On success returns: deviceID, appID, 200 OK</p>
                    <p class="text-light">On failure returns: 400, and error message</p>

                    <h3 class="text-light">GET /device</h3>
                    <p class="text-light">Gets info on user device</p>
                    <p class="text-light">Expects deviceID</p>
                    <p class="text-light">On success returns: Queried device info, 200 OK</p>
                    <p class="text-light">On failure returns: 400, and error message</p>
                </div>
                <div class="col-sm-6">
                    <!-- Device Handling ROUTES -->
                    <h2 class="lead color-me">DEVICE handling routes</h2>
                    <p class="text-light">User must send authentication token</p>

                    <h3 class="text-light">POST /device/(subRoute)</h3>
                    <p class="text-light">Configures a device parameter</p>
                    <p class="text-light">Expects deviceID and appID (as given by ttn)</p>
                    <p class="text-light">On success returns: 200 OK, blank JSON body</p>
                    <p class="text-light">On failure returns: 400, and error message</p>

                    <p class="text-light">The available subRoutes are the next ones:</p>
                    <ul class="fa-ul">
                        <li><i class="fa-li fa fa-check-square text-light"></i>thr/temp  <span style="color: #42adf4">&rarr;</span> Configures temperature level threshold</li>
                        <li><i class="fa-li fa fa-check-square text-light"></i>thr/gas  <span style="color: #42adf4">&rarr;</span> Configures gas level threshold</li>
                        <li><i class="fa-li fa fa-check-square text-light"></i>set/alert  <span style="color: #42adf4">&rarr;</span> Configures audible alarm as enabled/disabled</li>
                        <li><i class="fa-li fa fa-check-square text-light"></i>set/water  <span style="color: #42adf4">&rarr;</span> Configures water pump as enabled/disabled</li>
                    </ul>

                </div>
                <div class="col-sm-6">
                    <!-- Additional ROUTES -->
                    <h2 class="lead color-me">Additional features routes</h2>

                    <h3 class="text-light">POST /store</h3>
                    <p class="text-light">User must send authentication token</p>
                    <p class="text-light">Refreshes the FCM token (message push service)</p>
                    <p class="text-light">Expects push_req_token and push_req_old_token (Both FCM tokens, the latter will be swapped with the new one)</p>
                    <p class="text-light">On success returns: 200 OK, blank JSON body</p>
                    <p class="text-light">On failure returns: 400, and error message</p>

                    <h3 class="text-light">GET /online</h3>
                    <p class="text-light">On success returns: 200 OK, 'API is online' message</p>
                    <p class="text-light">If it's not reachable then api is offline</p>
                </div>

                <div class="col-sm-6">
                    <!-- Additional ROUTES -->
                    <h2 class="lead color-me">For testing a Postman Lib is given:</h2>
                    <div class="btn btn-default btn-lg postman-run-button"
                         data-postman-action="collection/import"
                         data-postman-var-1="7e0a54f36de1a68b69f0"></div>
                    </div>
                </div>


        </div>
    </section>


	<!-- Footer -->
    <footer class="page-footer">

    	<!-- Contact Us -->
        <div class="contact">
        	<div class="container">
				<h2 class="section-heading">Contact Us</h2>
                <p><span class="glyphicon glyphicon-envelope"></span><br>joao.mario@tecnico.ulisboa.pt</p>
                <p><span class="glyphicon glyphicon-envelope"></span><br>valtermario@tecnico.ulisboa.pt</p>
        	</div>
        </div>

        <!-- Copyright etc -->
        <div class="small-print">
        	<div class="container">
        		<p>Made with some <span style="color: #e25555;">&#9829;</span> in Lisboa,PT 2018</p>
        	</div>
        </div>

    </footer>

    <!-- jQuery -->
    <script src="js/jquery-1.11.3.min.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="js/jquery.easing.min.js"></script>

    <!-- Custom Javascript -->
    <script src="js/custom.js"></script>

    <!-- Postman Button for collection-->
    <script type="text/javascript">
      (function (p,o,s,t,m,a,n) {
        !p[s] && (p[s] = function () { (p[t] || (p[t] = [])).push(arguments); });
        !o.getElementById(s+t) && o.getElementsByTagName("head")[0].appendChild((
          (n = o.createElement("script")),
          (n.id = s+t), (n.async = 1), (n.src = m), n
        ));
      }(window, document, "_pm", "PostmanRunObject", "https://run.pstmn.io/button.js"));
    </script>

</body>

</html>
